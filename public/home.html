<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ë§ˆì¼“ ì‹¬ë§ˆì¼“ | ì˜¤ëŠ˜ì˜ ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ ë§ˆì¼“</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ë§ˆì¼“ ì‹¬ë§ˆì¼“ - ì—°ì• , ì„±ê²©, ê¸ˆì „, ì§ì¥, ìš°ì •ê¹Œì§€ ë‹¤ì–‘í•œ ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ë¥¼ í•œ ê³³ì—ì„œ ì¦ê¸°ê³  ê³µìœ í•  ìˆ˜ ìˆëŠ” ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ ë§ˆì¼“ì…ë‹ˆë‹¤." />

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f5f5ff;
      padding: 16px 0 40px;
    }
    a { text-decoration: none; color: inherit; }

    .layout {
      max-width: 960px;
      margin: 0 auto;
      padding: 0 16px;
    }

    /* í—¤ë” */
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 12px;
    }
    .logo-area {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .logo-icon {
      width: 32px;
      height: 32px;
      border-radius: 12px;
      background: linear-gradient(135deg, #6366f1, #ec4899);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 800;
      font-size: 18px;
      box-shadow: 0 8px 20px rgba(99,102,241,0.4);
    }
    .logo-text-main {
      font-size: 17px;
      font-weight: 800;
      color: #111827;
    }
    .logo-text-sub {
      font-size: 11px;
      color: #9ca3af;
    }
    .header-right {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .badge-pill {
      font-size: 10px;
      padding: 4px 8px;
      border-radius: 999px;
      background: #eef2ff;
      color: #4f46e5;
      border: 1px solid #c7d2fe;
    }
    .btn-small {
      font-size: 11px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      background: #ffffff;
      cursor: pointer;
    }
    .btn-small.primary {
      background: linear-gradient(135deg, #6366f1, #ec4899);
      border-color: transparent;
      color: #ffffff;
      box-shadow: 0 6px 16px rgba(99,102,241,0.35);
    }

    /* íˆì–´ë¡œ ìŠ¬ë¼ì´ë” */
    .hero-slider {
      position: relative;
      margin-bottom: 18px;
      border-radius: 20px;
      overflow: hidden;
      height: 150px;
      background: #0f172a;
    }
    .hero-slide {
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.6s ease;
    }
    .hero-slide::before {
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(circle at 0 0, rgba(248, 250, 252, 0.2) 0, transparent 60%),
        linear-gradient(135deg, rgba(15,23,42,0.9), rgba(30,64,175,0.85));
    }
    .hero-slide.active {
      opacity: 1;
      pointer-events: auto;
    }
    .hero-content {
      position: absolute;
      inset: 0;
      padding: 16px 16px 14px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      color: #e5e7eb;
    }
    .hero-title {
      font-size: 18px;
      font-weight: 800;
      margin-bottom: 4px;
    }
    .hero-sub {
      font-size: 12px;
      color: #cbd5f5;
      margin-bottom: 10px;
    }
    .hero-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 10px;
      font-size: 11px;
    }
    .hero-tag {
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(15,23,42,0.6);
      border: 1px solid rgba(148,163,184,0.6);
    }
    .hero-bottom {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
    }
    .hero-cta {
      display: flex;
      gap: 8px;
      align-items: center;
    }
    .hero-btn-main {
      font-size: 12px;
      padding: 7px 14px;
      border-radius: 999px;
      border: none;
      background: #fbbf24;
      color: #111827;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 8px 18px rgba(251,191,36,0.5);
    }
    .hero-btn-sub {
      font-size: 11px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      background: rgba(15,23,42,0.6);
      color: #e5e7eb;
      cursor: pointer;
    }
    .hero-stat {
      font-size: 11px;
      text-align: right;
      color: #cbd5f5;
    }
    .hero-dots {
      position: absolute;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 4px;
    }
    .hero-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: rgba(148,163,184,0.8);
    }
    .hero-dot.active {
      width: 12px;
      background: #fbbf24;
    }

    /* ì¹´í…Œê³ ë¦¬ ë°” */
    .category-scroll {
      display: flex;
      gap: 8px;
      overflow-x: auto;
      padding: 4px 0 10px;
      margin-bottom: 8px;
    }
    .category-chip {
      flex-shrink: 0;
      font-size: 11px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      background: #ffffff;
      color: #374151;
      cursor: pointer;
      white-space: nowrap;
    }
    .category-chip.active {
      background: linear-gradient(135deg, #6366f1, #ec4899);
      border-color: transparent;
      color: #ffffff;
      box-shadow: 0 6px 16px rgba(99,102,241,0.3);
    }

    /* ì„¹ì…˜ ê³µí†µ */
    .section {
      margin-bottom: 22px;
    }
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    .section-title {
      font-size: 15px;
      font-weight: 700;
      color: #111827;
    }
    .section-sub {
      font-size: 11px;
      color: #9ca3af;
    }
    .section-link {
      font-size: 11px;
      color: #6b21a8;
    }

    /* ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ */
    .card-row-scroll {
      display: flex;
      gap: 10px;
      overflow-x: auto;
      padding: 2px 1px 4px;
    }
    .test-card {
      flex: 0 0 150px;
      border-radius: 14px;
      background: #ffffff;
      border: 1px solid #e5e7eb;
      overflow: hidden;
      box-shadow: 0 4px 10px rgba(148,163,184,0.25);
      display: flex;
      flex-direction: column;
    }
    .test-thumb {
      height: 90px;
      background-size: cover;
      background-position: center;
      position: relative;
    }
    .test-thumb-badge {
      position: absolute;
      left: 8px;
      top: 8px;
      font-size: 10px;
      padding: 3px 6px;
      border-radius: 999px;
      background: rgba(15,23,42,0.8);
      color: #f9fafb;
    }
    .test-body {
      padding: 8px 9px 10px;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .test-title {
      font-size: 13px;
      font-weight: 700;
      color: #111827;
      line-height: 1.3;
    }
    .test-sub {
      font-size: 11px;
      color: #6b7280;
      height: 30px;
      overflow: hidden;
    }
    .test-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      font-size: 10px;
      color: #6b7280;
    }
    .test-tag-pill {
      padding: 2px 6px;
      border-radius: 999px;
      background: #f3f4ff;
      color: #4f46e5;
    }
    .test-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 6px;
    }
    .test-meta {
      font-size: 10px;
      color: #9ca3af;
    }
    .test-play-btn {
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(135deg,#6366f1,#ec4899);
      color: #ffffff;
      cursor: pointer;
    }

    /* í‘¸í„° */
    .footer {
      margin-top: 24px;
      padding-top: 10px;
      border-top: 1px solid #e5e7eb;
      font-size: 11px;
      color: #9ca3af;
      text-align: center;
    }

    @media (min-width: 768px) {
      .hero-slider {
        height: 180px;
      }
      .hero-content {
        padding: 18px 20px 16px;
      }
      .hero-title {
        font-size: 20px;
      }
      .card-row-scroll {
        overflow-x: visible;
        flex-wrap: wrap;
      }
      .test-card {
        flex: 0 0 calc(25% - 8px);
      }
    }
  </style>
</head>
<body>
  <div class="layout">
    <!-- í—¤ë” -->
    <header class="header">
      <div class="logo-area">
        <div class="logo-icon">Ïˆ</div>
        <div>
          <div class="logo-text-main">ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ë§ˆì¼“ ì‹¬ë§ˆì¼“</div>
          <div class="logo-text-sub">ì˜¤ëŠ˜ ê¸°ë¶„ì— ë§ëŠ” ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ë¥¼ ê³¨ë¼ë³´ëŠ” ë§ˆì¼“ ì„œë¹„ìŠ¤</div>
        </div>
      </div>
      <div class="header-right">
        <span class="badge-pill">Beta</span>
        <a href="/"><button class="btn-small">AI ìë™ ìƒì„±ê¸°</button></a>
        <a href="/admin.html"><button class="btn-small primary">ê´€ë¦¬ì í˜ì´ì§€</button></a>
      </div>
    </header>

    <!-- íˆì–´ë¡œ ìŠ¬ë¼ì´ë” -->
    <section class="hero-slider" id="heroSlider">
      <!-- ìŠ¬ë¼ì´ë“œ 1: ì—°ì• /ì†Œê°œíŒ… -->
      <div class="hero-slide active" data-index="0"
           style="background-image:url('https://images.pexels.com/photos/7098021/pexels-photo-7098021.jpeg?auto=compress&cs=tinysrgb&w=1200');">
        <div class="hero-content">
          <div>
            <div class="hero-title">ì˜¤ëŠ˜ ë°¤, ì–´ë–¤ í…ŒìŠ¤íŠ¸ë¡œ ë†€ì•„ë³¼ê¹Œìš”?</div>
            <div class="hero-sub">ì—°ì•  ì˜¨ë„, ì²«ì¸ìƒ, ì´ìƒí˜•ê¹Œì§€. ì‹¬ë§ˆì¼“ì—ì„œ ì¸ê¸° ì—°ì•  ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ë§Œ ëª¨ì•˜ì–´ìš”.</div>
            <div class="hero-tags">
              <span class="hero-tag">#ì—°ì• _ì†Œê°œíŒ…</span>
              <span class="hero-tag">#ì¸íƒ€ëŠ”_ì¹œêµ¬ë‘_ê°™ì´í’€ê¸°</span>
              <span class="hero-tag">#ì¹´í†¡_í”„ë¡œí•„_ì¸ì¦ìƒ·</span>
            </div>
          </div>
          <div class="hero-bottom">
            <div class="hero-cta">
              <a href="/"><button class="hero-btn-main">AIë¡œ ìƒˆ í…ŒìŠ¤íŠ¸ ë§Œë“¤ê¸°</button></a>
              <a href="#section-popular"><button class="hero-btn-sub">ì—°ì•  ì¸ê¸° í…ŒìŠ¤íŠ¸ ë³´ê¸°</button></a>
            </div>
            <div class="hero-stat">
              ì˜¤ëŠ˜ ì—…ë°ì´íŠ¸ëœ í…ŒìŠ¤íŠ¸ <b id="todayCount">0ê°œ</b><br />
              ì „ì²´ ë“±ë¡ í…ŒìŠ¤íŠ¸ <b id="totalCount">0ê°œ</b>
            </div>
          </div>
        </div>
      </div>

      <!-- ìŠ¬ë¼ì´ë“œ 2: ì„±ê²©/MBTI -->
      <div class="hero-slide" data-index="1"
           style="background-image:url('https://images.pexels.com/photos/3819772/pexels-photo-3819772.jpeg?auto=compress&cs=tinysrgb&w=1200');">
        <div class="hero-content">
          <div>
            <div class="hero-title">ë‚˜ë„ ëª°ëë˜ TMI ì„±ê²©, ì‹¬ë§ˆì¼“ì—ì„œ ë°œê²¬í•˜ê¸°</div>
            <div class="hero-sub">MBTI ê°ì„±, TMI ìœ í˜•, ë°ˆ ìŠ¤íƒ€ì¼ê¹Œì§€. ì½˜í…ì¸ ìš© ì„±ê²© í…ŒìŠ¤íŠ¸ë¥¼ ê³¨ë¼ë³´ì„¸ìš”.</div>
            <div class="hero-tags">
              <span class="hero-tag">#TMI_ì„±ê²©ìœ í˜•</span>
              <span class="hero-tag">#ë°ˆ_ì»¨í…ì¸ _í…œ</span>
              <span class="hero-tag">#ìŠ¤í† ë¦¬_í•˜ì´ë¼ì´íŠ¸</span>
            </div>
          </div>
          <div class="hero-bottom">
            <div class="hero-cta">
              <a href="#section-category"><button class="hero-btn-main">ì„±ê²© í…ŒìŠ¤íŠ¸ ê³¨ë¼ë³´ê¸°</button></a>
              <a href="/"><button class="hero-btn-sub">AIë¡œ ë°”ë¡œ ë§Œë“¤ê¸°</button></a>
            </div>
            <div class="hero-stat">
              ì‹¤ì‹œê°„ í”Œë ˆì´ ìˆ˜ ê¸°ë°˜<br />
              <b>ì—”í„°í…Œì¸ë¨¼íŠ¸ìš© ì‹¬ë¦¬í…ŒìŠ¤íŠ¸</b>
            </div>
          </div>
        </div>
      </div>

      <!-- ìŠ¬ë¼ì´ë“œ 3: ê¸ˆì „/ì†Œë¹„ & ë¼ì´í”„ìŠ¤íƒ€ì¼ -->
      <div class="hero-slide" data-index="2"
           style="background-image:url('https://images.pexels.com/photos/3943722/pexels-photo-3943722.jpeg?auto=compress&cs=tinysrgb&w=1200');">
        <div class="hero-content">
          <div>
            <div class="hero-title">ì§€ê°‘ ê±±ì •ë˜ëŠ” ë‚ ì—”, ê¸ˆì „Â·ì†Œë¹„ ì„±í–¥ í…ŒìŠ¤íŠ¸</div>
            <div class="hero-sub">í”Œë ‰ìŠ¤íŒŒ vs ì§ í…Œí¬íŒŒ, ë‹¹ì‹ ì˜ ì†Œë¹„ í…ì…˜ì„ ì‹¬ë§ˆì¼“ í…ŒìŠ¤íŠ¸ë¡œ ì ê²€í•´ ë³´ì„¸ìš”.</div>
            <div class="hero-tags">
              <span class="hero-tag">#ê¸ˆì „ê°ê°_ì²´í¬</span>
              <span class="hero-tag">#ì§ í…Œí¬vsí”Œë ‰ìŠ¤</span>
              <span class="hero-tag">#ë¼ì´í”„ìŠ¤íƒ€ì¼_í…ŒìŠ¤íŠ¸</span>
            </div>
          </div>
          <div class="hero-bottom">
            <div class="hero-cta">
              <a href="#section-latest"><button class="hero-btn-main">ë”°ëˆë”°ëˆ ìµœì‹  í…ŒìŠ¤íŠ¸</button></a>
              <a href="#section-popular"><button class="hero-btn-sub">ì§€ê¸ˆ ëœ¨ëŠ” TOP ë³´ê¸°</button></a>
            </div>
            <div class="hero-stat">
              ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ë§ˆì¼“ <b>ì‹¬ë§ˆì¼“</b><br />
              ì˜¤ëŠ˜ì˜ í…ŒìŠ¤íŠ¸ë¡œ ê¸°ë¶„ ì „í™˜!
            </div>
          </div>
        </div>
      </div>

      <!-- ë„íŠ¸ -->
      <div class="hero-dots" id="heroDots">
        <div class="hero-dot active" data-index="0"></div>
        <div class="hero-dot" data-index="1"></div>
        <div class="hero-dot" data-index="2"></div>
      </div>
    </section>

    <!-- ì¹´í…Œê³ ë¦¬ ë°” -->
    <div class="category-scroll" id="categoryBar">
      <!-- JSë¡œ ì±„ì›€ -->
    </div>

    <!-- ì„¹ì…˜: ì¸ê¸° TOP -->
    <section class="section" id="section-popular">
      <div class="section-header">
        <div>
          <div class="section-title">ì§€ê¸ˆ ëœ¨ëŠ” ì¸ê¸° TOP ğŸ”¥</div>
          <div class="section-sub">ìµœê·¼ ì¼ì£¼ì¼ ë™ì•ˆ í”Œë ˆì´ ìˆ˜ê°€ ë§ì€ í…ŒìŠ¤íŠ¸</div>
        </div>
        <a href="#section-latest" class="section-link">ìµœì‹  ì—…ë¡œë“œ ë³´ê¸°</a>
      </div>
      <div class="card-row-scroll" id="popularRow"></div>
    </section>

    <!-- ì„¹ì…˜: ìµœì‹  ì—…ë¡œë“œ -->
    <section class="section" id="section-latest">
      <div class="section-header">
        <div>
          <div class="section-title">ë”°ëˆë”°ëˆ ìµœì‹  í…ŒìŠ¤íŠ¸ ğŸ†•</div>
          <div class="section-sub">ë°©ê¸ˆ ë§‰ ì˜¬ë¼ì˜¨ ìƒˆ í…ŒìŠ¤íŠ¸ë¡œ ë¨¼ì € ì¦ê²¨ë³´ì„¸ìš”</div>
        </div>
      </div>
      <div class="card-row-scroll" id="latestRow"></div>
    </section>

    <!-- ì„¹ì…˜: ì„ íƒëœ ì¹´í…Œê³ ë¦¬ -->
    <section class="section" id="section-category">
      <div class="section-header">
        <div>
          <div class="section-title" id="categoryTitle">ì—°ì• /ì†Œê°œíŒ… ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ ğŸ’˜</div>
          <div class="section-sub" id="categorySub">ì—°ì• , ì¸, ì²«ì¸ìƒ, ì´ìƒí˜• íƒêµ¬ í…ŒìŠ¤íŠ¸ ëª¨ìŒ</div>
        </div>
      </div>
      <div class="card-row-scroll" id="categoryRow"></div>
    </section>

    <!-- í‘¸í„° -->
    <footer class="footer">
      ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ë§ˆì¼“ <b>ì‹¬ë§ˆì¼“</b>ì€ ì—”í„°í…Œì¸ë¨¼íŠ¸ìš© ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì‹¤ì œ ì‹¬ë¦¬ ìƒë‹´Â·ì§„ë‹¨ì€ ì „ë¬¸ ê¸°ê´€ì„ ì´ìš©í•´ ì£¼ì„¸ìš”. |
      ë¬¸ì˜: <a href="mailto:ainam0727@gmail.com">ainam0727@gmail.com</a>
    </footer>
  </div>

  <script>
    /*********************************
     * ê³µí†µ ìœ í‹¸ (encode â†’ /?t= ë¡œ ì—°ê²°)
     *********************************/
    function encodeBase64(str) {
      return btoa(unescape(encodeURIComponent(str)));
    }
    function buildPlayUrl(testText, categoryLabel) {
      const payload = {
        category: categoryLabel || "ì—°ì•  ì‹¬ë¦¬í…ŒìŠ¤íŠ¸",
        test: testText
      };
      const json = JSON.stringify(payload);
      const encoded = encodeBase64(json);
      // ê¸°ì¡´ index.htmlì´ / ì— ë§¤í•‘ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ë£¨íŠ¸ë¡œ ì—°ê²°
      return "/?t=" + encodeURIComponent(encoded);
    }

    /*********************************
     * ê¸°ë³¸ ìƒ˜í”Œ í…ŒìŠ¤íŠ¸ (ì²˜ìŒ ì ‘ì†ìš©)
     *********************************/
    const defaultMarketTests = [
      {
        id: "sample1",
        title: "ë‚˜ì˜ ì—°ì•  ì˜¨ë„ 4ë‹¨ê³„ í…ŒìŠ¤íŠ¸",
        subtitle: "ë‹¹ì‹ ì˜ ì‚¬ë‘ ì˜¨ë„ëŠ” ëƒ‰ì¥ê³ ? ì˜¨íƒ•? ë³´ì¼ëŸ¬ê¸‰?",
        category: "ì—°ì• /ì†Œê°œíŒ…",
        mood: "ê·€ì—¬ìš´",
        tags: ["ì—°ì• ", "ì¸", "ì²«ì¸ìƒ"],
        badge: "HOT",
        hits: 1284,
        createdAt: new Date().toISOString(),
        isNew: true,
        thumbnail: "https://images.pexels.com/photos/1028725/pexels-photo-1028725.jpeg?auto=compress&cs=tinysrgb&w=800",
        playUrl: "#",
        testText: `1. ëˆ„êµ°ê°€ ë§ˆìŒì— ë“¤ê¸° ì‹œì‘í•˜ë©´, ë‹¹ì‹ ì€?
A) ë°”ë¡œ ì ê·¹ì ìœ¼ë¡œ í‘œí˜„í•œë‹¤
B) ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ëˆˆì¹˜ë¥¼ ë³´ë©° ë‹¤ê°€ê°„ë‹¤
C) ìƒëŒ€ê°€ ë¨¼ì € ë‹¤ê°€ì˜¤ê¸¸ ê¸°ë‹¤ë¦°ë‹¤
D) í˜¼ìë§Œì˜ ìƒìƒ ì†ì—ì„œ ì‚¬ë‘ì„ í‚¤ìš´ë‹¤

2. ë°ì´íŠ¸ ì•½ì†ì´ ì¡í˜”ì„ ë•Œ, ë‹¹ì‹ ì˜ ì¤€ë¹„ ìŠ¤íƒ€ì¼ì€?
A) ë©°ì¹  ì „ë¶€í„° ì½”ë””ì™€ ë™ì„ ê¹Œì§€ ì™„ë²½ ì²´í¬
B) ê¸°ë³¸ë§Œ ì±™ê¸°ê³ , ë‚˜ë¨¸ì§€ëŠ” í˜„ì¥ì—ì„œ ì¦‰í¥ì ìœ¼ë¡œ
C) í¬ê²Œ ì¤€ë¹„í•˜ì§€ ì•Šê³ , ë¶„ìœ„ê¸°ì— ë§¡ê¸´ë‹¤
D) ì•½ì† ë‹¹ì¼ì´ ë˜ì–´ë„ ì •ì‹ ì´ ì—†ë‹¤

[ì—”í„°í…Œì¸ë¨¼íŠ¸ìš© ì˜ˆì‹œ ê²°ê³¼]
Aê°€ ë§ë‹¤ë©´: ëœ¨ê±°ìš´ ë³´ì¼ëŸ¬í˜• ì—°ì•  ì˜¨ë„!
Bê°€ ë§ë‹¤ë©´: ë”°ëœ»í•œ ì˜¨íƒ•í˜• ì—°ì•  ì˜¨ë„!
Cê°€ ë§ë‹¤ë©´: í¸ì•ˆí•œ ë¯¸ì˜¨ìˆ˜í˜• ì—°ì•  ì˜¨ë„!
Dê°€ ë§ë‹¤ë©´: ì°¨ë¶„í•œ ëƒ‰ì¥ê³ í˜• ì—°ì•  ì˜¨ë„!`
      },
      {
        id: "sample2",
        title: "TMI ì„±ê²© ìœ í˜• TEST",
        subtitle: "ë‚˜ë„ ëª°ëë˜ ë‚˜ì˜ TMI í¬ì¸íŠ¸ë¥¼ ì°¾ì•„ë³´ì",
        category: "ì„±ê²©/MBTI",
        mood: "ë°ˆ/ì›ƒê¸´",
        tags: ["ì„±ê²©", "TMI", "MBTI ê°ì„±"],
        badge: "NEW",
        hits: 873,
        createdAt: new Date().toISOString(),
        isNew: true,
        thumbnail: "https://images.pexels.com/photos/1858175/pexels-photo-1858175.jpeg?auto=compress&cs=tinysrgb&w=800",
        playUrl: "#",
        testText: `1. ìƒˆë¡œìš´ ì‚¬ëŒì„ ë§Œë‚¬ì„ ë•Œ ë‚˜ëŠ”?
A) ë¨¼ì € ë§ì„ ê±¸ë©° ë¶„ìœ„ê¸°ë¥¼ ë„ìš´ë‹¤
B) ìƒí™©ì„ ì‚´í”¼ë‹¤ê°€ íƒ€ì´ë°ì„ ë³´ê³  ë§ì„ ê±´ë‹¤
C) ìƒëŒ€ê°€ ë¨¼ì € ë§ ê±¸ì–´ì¤„ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤
D) ëŒ€í™”ë¥¼ ìµœì†Œí™”í•˜ê³  ì‹¶ë‹¤

2. í˜¼ì ìˆì„ ë•Œ ë‚˜ëŠ”?
A) ìŒì•… í‹€ê³  ì¶¤ì¶”ê±°ë‚˜ ë…¸ë˜ë¥¼ ë¶€ë¥¸ë‹¤
B) ìœ íŠœë¸Œ/í‹±í†¡/ë¦´ìŠ¤ë¥¼ ë¬´í•œ ìŠ¤í¬ë¡¤
C) ì¡°ìš©íˆ ì±…, ì˜í™” ë“± í˜¼ìë§Œì˜ ì‹œê°„ì„ ë³´ë‚¸ë‹¤
D) ì¹¨ëŒ€ì™€ í•˜ë‚˜ê°€ ëœë‹¤

[ì—”í„°í…Œì¸ë¨¼íŠ¸ìš© ì˜ˆì‹œ ê²°ê³¼]
Aê°€ ë§ë‹¤ë©´: ì¸ê°„ ìŠ¤í¬íŠ¸ë¼ì´íŠ¸í˜•!
Bê°€ ë§ë‹¤ë©´: íŠ¸ë Œë“œ ìŠ¤ìºë„ˆí˜•!
Cê°€ ë§ë‹¤ë©´: ì¡°ìš©í•œ ê´€ì°°ìí˜•!
Dê°€ ë§ë‹¤ë©´: ì¹¨ëŒ€ì™€ í•œ ëª¸ ì†ŒíŒŒ ê°ì„±í˜•!`
      },
      {
        id: "sample3",
        title: "ê¸ˆì „ ê°ê° ì²´í¬: í”Œë ‰ìŠ¤ vs ì§ í…Œí¬",
        subtitle: "ë‹¹ì‹ ì˜ ì§€ê°‘ì€ ì§€ê¸ˆ ì•ˆë…•í•˜ì‹ ê°€ìš”?",
        category: "ê¸ˆì „/ì†Œë¹„",
        mood: "í˜„ì‹¤ì ì¸",
        tags: ["ê¸ˆì „", "ì†Œë¹„ ì„±í–¥"],
        badge: "",
        hits: 642,
        createdAt: new Date().toISOString(),
        isNew: false,
        thumbnail: "https://images.pexels.com/photos/3943722/pexels-photo-3943722.jpeg?auto=compress&cs=tinysrgb&w=800",
        playUrl: "#",
        testText: `1. ì›”ê¸‰ë‚ ì´ ë˜ë©´ ê°€ì¥ ë¨¼ì € í•˜ëŠ” ìƒê°ì€?
A) ê°–ê³  ì‹¶ë˜ ê²ƒë“¤ ìƒê°í•˜ë©° ì¥ë°”êµ¬ë‹ˆë¥¼ ì—°ë‹¤
B) ê³ ì •ë¹„ë¶€í„° ê³„ì‚°í•˜ê³  ë‚¨ëŠ” ëˆì„ ë³¸ë‹¤
C) ì ê¸ˆ/íˆ¬ìë¶€í„° ë„£ê³  ë‚˜ë¨¸ì§€ë¡œ ë²„í‹´ë‹¤
D) ì¼ë‹¨ í†µì¥ì„ ë³´ì§€ ì•ŠëŠ”ë‹¤

[ì—”í„°í…Œì¸ë¨¼íŠ¸ìš© ì˜ˆì‹œ ê²°ê³¼]
Aê°€ ë§ë‹¤ë©´: í”Œë ‰ìŠ¤ ê°ì„± ì†Œë¹„ëŸ¬!
Bê°€ ë§ë‹¤ë©´: ë°¸ëŸ°ìŠ¤í˜• ì‹¤ì†íŒŒ!
Cê°€ ë§ë‹¤ë©´: ì§ í…Œí¬ ë§ˆìŠ¤í„°!
Dê°€ ë§ë‹¤ë©´: í˜„ì‹¤ ë„í”¼í˜• ì§€ê°‘ ìš”ì •!`
      }
    ];

    // ìƒ˜í”Œì˜ playUrl ì„¸íŒ…
    defaultMarketTests.forEach(t => {
      t.playUrl = buildPlayUrl(t.testText, t.category + " ì‹¬ë¦¬í…ŒìŠ¤íŠ¸");
    });

    /*********************************
     * ë¡œì»¬ ì €ì¥ì†Œì—ì„œ ê´€ë¦¬ì ë“±ë¡ë¶„ ë¶ˆëŸ¬ì˜¤ê¸°
     *********************************/
    function loadMarketTests() {
      const raw = localStorage.getItem("marketTests");
      let adminTests = [];
      if (raw) {
        try {
          adminTests = JSON.parse(raw);
        } catch (e) {
          console.error("marketTests parse error", e);
        }
      }
      return [...adminTests, ...defaultMarketTests];
    }

    const allTests = loadMarketTests();

    /*********************************
     * ì¹´í…Œê³ ë¦¬ ë°” ë Œë”ë§
     *********************************/
    const categoryBar = document.getElementById("categoryBar");
    const categoryRow = document.getElementById("categoryRow");
    const categoryTitle = document.getElementById("categoryTitle");
    const categorySub = document.getElementById("categorySub");
    const todayCountEl = document.getElementById("todayCount");
    const totalCountEl = document.getElementById("totalCount");

    const categoryMeta = [
      { key: "ì—°ì• /ì†Œê°œíŒ…", label: "ì—°ì• /ì†Œê°œíŒ… ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ ğŸ’˜", sub: "ì¸, ì—°ì• , ì´ìƒí˜•, ì†Œê°œíŒ… í…œí”Œë¦¿ ëª¨ìŒ" },
      { key: "ì„±ê²©/MBTI", label: "ì„±ê²©/MBTI ê°ì„± í…ŒìŠ¤íŠ¸ ğŸ’¡", sub: "ë‚˜ë„ ëª°ëë˜ TMI ì„±ê²©ê³¼ MBTI ê°ì„±" },
      { key: "ê¸ˆì „/ì†Œë¹„", label: "ê¸ˆì „/ì†Œë¹„ ì„±í–¥ í…ŒìŠ¤íŠ¸ ğŸ’°", sub: "í”Œë ‰ìŠ¤ vs ì§ í…Œí¬, ë‚´ ì§€ê°‘ì˜ í˜„ì‹¤" },
      { key: "ì§ì¥/ì»¤ë¦¬ì–´", label: "ì§ì¥/ì»¤ë¦¬ì–´ ì‹¬ë¦¬í…ŒìŠ¤íŠ¸ ğŸ’¼", sub: "ìƒì‚¬ë ¥, ë™ë£Œë ¥, í‡´ì‚¬ë ¥ ì²´í¬" },
      { key: "ìš°ì •/ëŒ€ì¸ê´€ê³„", label: "ìš°ì •/ëŒ€ì¸ê´€ê³„ í…ŒìŠ¤íŠ¸ ğŸ¤", sub: "ì¹œêµ¬, ì¸ê°„ê´€ê³„ í…ì…˜ ì²´í¬" },
      { key: "ë¼ì´í”„ìŠ¤íƒ€ì¼", label: "ë¼ì´í”„ìŠ¤íƒ€ì¼ í…ŒìŠ¤íŠ¸ ğŸŒˆ", sub: "ì·¨í–¥, ë£¨í‹´, ìƒí™œ íŒ¨í„´ íƒêµ¬" }
    ];

    function renderCategoryBar(activeKey) {
      categoryBar.innerHTML = "";
      categoryMeta.forEach(meta => {
        const btn = document.createElement("button");
        btn.className = "category-chip" + (meta.key === activeKey ? " active" : "");
        btn.textContent = meta.label.replace(/ ì‹¬ë¦¬í…ŒìŠ¤íŠ¸.*/, "");
        btn.addEventListener("click", () => {
          renderCategorySection(meta.key);
        });
        categoryBar.appendChild(btn);
      });
    }

    function renderCards(tests, container) {
      container.innerHTML = "";
      tests.forEach(t => {
        const card = document.createElement("div");
        card.className = "test-card";

        const thumb = document.createElement("div");
        thumb.className = "test-thumb";
        thumb.style.backgroundImage = `url('${(t.thumbnail || "").replace("'", "\\'")}')`;
        if (t.badge || t.isNew) {
          const badge = document.createElement("div");
          badge.className = "test-thumb-badge";
          badge.textContent = t.badge || (t.isNew ? "NEW" : "");
          thumb.appendChild(badge);
        }

        const body = document.createElement("div");
        body.className = "test-body";

        const title = document.createElement("div");
        title.className = "test-title";
        title.textContent = t.title;

        const sub = document.createElement("div");
        sub.className = "test-sub";
        sub.textContent = t.subtitle || "";

        const tagsWrap = document.createElement("div");
        tagsWrap.className = "test-tags";
        (t.tags || []).slice(0, 3).forEach(tag => {
          const pill = document.createElement("span");
          pill.className = "test-tag-pill";
          pill.textContent = "#" + tag;
          tagsWrap.appendChild(pill);
        });

        const footer = document.createElement("div");
        footer.className = "test-footer";

        const meta = document.createElement("div");
        meta.className = "test-meta";
        meta.textContent = (t.mood || "") + (t.hits ? ` Â· ${t.hits}ëª… ì°¸ì—¬` : "");

        const playBtn = document.createElement("button");
        playBtn.className = "test-play-btn";
        playBtn.textContent = "í…ŒìŠ¤íŠ¸ í’€ê¸°";
        playBtn.addEventListener("click", () => {
          if (!t.playUrl) {
            alert("ì—°ê²°ëœ í…ŒìŠ¤íŠ¸ ë§í¬ê°€ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ë‹¤ì‹œ ì €ì¥í•´ ì£¼ì„¸ìš”.");
            return;
          }
          window.location.href = t.playUrl;
        });

        footer.appendChild(meta);
        footer.appendChild(playBtn);

        body.appendChild(title);
        body.appendChild(sub);
        body.appendChild(tagsWrap);
        body.appendChild(footer);

        card.appendChild(thumb);
        card.appendChild(body);
        container.appendChild(card);
      });
    }

    function renderCategorySection(categoryKey) {
      const meta = categoryMeta.find(m => m.key === categoryKey) || categoryMeta[0];
      const filtered = allTests.filter(t => t.category && t.category.indexOf(meta.key) !== -1);
      categoryTitle.textContent = meta.label;
      categorySub.textContent = meta.sub;
      renderCategoryBar(categoryKey);
      renderCards(filtered, categoryRow);
    }

    /*********************************
     * ì¸ê¸° / ìµœì‹  ì„¹ì…˜
     *********************************/
    const popularRow = document.getElementById("popularRow");
    const latestRow = document.getElementById("latestRow");

    function renderTopSections() {
      const sortedByHits = [...allTests].sort((a,b) => (b.hits || 0) - (a.hits || 0)).reverse();
      const popular = sortedByHits.slice(0, 8);
      renderCards(popular, popularRow);

      const sortedByDate = [...allTests].sort((a,b) => new Date(b.createdAt || 0) - new Date(a.createdAt || 0));
      const latest = sortedByDate.slice(0, 8);
      renderCards(latest, latestRow);

      const todayStr = new Date().toISOString().slice(0,10);
      const todayCount = allTests.filter(t => (t.createdAt || "").slice(0,10) === todayStr).length;

      todayCountEl.textContent = todayCount;
      totalCountEl.textContent = allTests.length;
    }

    // ì´ˆê¸° ë Œë”
    renderTopSections();
    renderCategorySection("ì—°ì• /ì†Œê°œíŒ…");

    /*********************************
     * íˆì–´ë¡œ ìë™ ìŠ¬ë¼ì´ë”
     *********************************/
    const heroSlides = Array.from(document.querySelectorAll(".hero-slide"));
    const heroDots = Array.from(document.querySelectorAll(".hero-dot"));
    let heroIndex = 0;
    const HERO_INTERVAL = 6000;

    function setHero(index) {
      heroSlides.forEach((slide, i) => {
        slide.classList.toggle("active", i === index);
      });
      heroDots.forEach((dot, i) => {
        dot.classList.toggle("active", i === index);
      });
      heroIndex = index;
    }

    heroDots.forEach(dot => {
      dot.addEventListener("click", () => {
        const idx = Number(dot.dataset.index || 0);
        setHero(idx);
      });
    });

    setInterval(() => {
      const next = (heroIndex + 1) % heroSlides.length;
      setHero(next);
    }, HERO_INTERVAL);
  </script>
</body>
</html>
